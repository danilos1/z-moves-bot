import requests
from datetime import date

free = '''
â–‘â–‘â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–„
â–‘â–â–ˆâ–ˆâ–ˆâ–ˆâ–€â–’â–’Ğ‘ĞĞ›Ğ”ĞĞšâ–’â–’â–€â–ˆâ–ˆâ–ˆâ–ˆ
â–‘â–ˆâ–ˆâ–ˆâ–€â–’â–’â–’Ğ ĞĞ—Ğ Ğ•Ğ¨Ğ˜Ğ›â–’â–’â–’â–’â–€â–ˆâ–ˆ
â–‘â–â–ˆâ–ˆâ–’â–’â–’â–’â–’ĞĞ”Ğ˜Ğ¥ĞĞ£Ğ¢Ğ¬â–’â–’â–’â–’â–’â–ˆâ–ˆ
â–‘â–â–ˆâ–Œâ–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–’â–ˆâ–ˆâ–ˆ
â–‘â–‘â–ˆâ–’â–„â–€â–€â–€â–€â–€â–„â–’â–’â–„â–€â–€â–€â–€â–€â–„â–’â–â–ˆâ–ˆ
â–‘â–‘â–‘â–â–‘â–‘â–‘â–„â–„â–‘â–‘â–Œâ–â–‘â–‘â–‘â–„â–„â–‘â–‘â–Œâ–â–ˆâ–ˆ
â–‘â–„â–€â–Œâ–‘â–‘â–‘â–€â–€â–‘â–‘â–Œâ–â–‘â–‘â–‘â–€â–€â–‘â–‘â–Œâ–’â–€â–’
â–‘â–Œâ–’â–€â–„â–‘â–‘â–‘â–‘â–„â–€â–’â–’â–€â–„â–‘â–‘â–‘â–„â–€â–’â–’â–„â–€
â–‘â–€â–„â–â–’â–€â–€â–€â–€â–’â–’â–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’
â–‘â–‘â–‘â–€â–Œâ–’â–„â–ˆâ–ˆâ–„â–„â–„â–„â–ˆâ–ˆâ–ˆâ–ˆâ–„â–’â–’â–’â–’â–ˆâ–€
â–‘â–‘â–‘â–‘â–„â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–â–Œ
â–‘â–‘â–‘â–€â–ˆâ–ˆâ–ˆâ–€â–€â–ˆâ–ˆâ–ˆâ–ˆâ–€â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–€â–’â–Œ
â–‘â–‘â–‘â–‘â–‘â–Œâ–’â–’â–’â–„â–’â–’â–’â–„â–’â–’â–’â–’â–’â–’â–
â–‘â–‘â–‘â–‘â–‘â–Œâ–’â–’â–’â–’â–€â–€â–€â–’â–’â–’â–’â–’â–’â–’â–
'''

week_days = ('Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº', 'Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº', 'ÑÑ€ĞµĞ´Ñƒ', 'Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ğ³', 'Ğ¿ÑÑ‚Ğ½Ğ¸Ñ†Ñƒ')

def get_current_week():
    weekUrl = 'http://api.rozklad.org.ua/v2/weeks'
    week = requests.get(weekUrl).json()['data']
    return week


def show_schedule(day: str, sch: str, hl: str, gl: str, aw: str):
    return 'Ğ—Ğ°Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¼ÑƒĞ²Ñ‹ Ğ½Ğ° ' + day + ':\n' + '''
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
{schedule}
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ğŸ‘º Hotlines: 
{hotlines}
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
{global_links}
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
{afterword}
'''.format(schedule=sch, hotlines=hl, global_links=gl, afterword=aw)


class Schedule:
    url = 'http://api.rozklad.org.ua/v2/groups/{0}/lessons'

    def is_group_exist(self, group: str):
        return requests.get(self.url.format(group)).ok

    def getDay(self, week, day):
        schedule = ''
        r = requests.get(self.url)
        data = r.json()['data']
        for lesson in data:
            if lesson['lesson_week'] == str(week) and lesson['day_number'] == str(day):
                schedule += '\n' + lesson["time_start"][:5] + ' â€” <i>' + \
                            lesson["lesson_name"] + '</i> <b>\n' + \
                            lesson["lesson_type"] + "</b> â€” " + \
                            lesson["teacher_name"] + '\n'

        return free if (schedule == '') else schedule
